信息论大作业

加密功能

压缩功能

- [x] 读取文本文件
- [x] 三种编码
- [x] 将编码文件保存为文本文件。
- [ ] 概率输入超出提醒
- [ ] 文本长度超出提醒
- [ ] 

```matlab
        [sorted, Index] = sort(array);  % 将概率按升序排序
```

Index存储排好序的序列中第 i 个位置的数字原来的下标是多少

，把原数组中第 Index个数放在第 i 个位置就是排好序的数组。

文本可以先计算概率，之后直接调用计算概率的函数



文本长度





```
                    app.save = uibutton(app.uibuttongroup1, 'push');
                    app.save.ButtonPushedFcn = createCallbackFcn(app, @save_Callback, true);
                    app.save.Tag = 'save';
                    app.save.FontName = 'Microsoft YaHei UI';
                    app.save.FontSize = 20;
                    app.save.Position = [18 91 64 42];
                    app.save.Text = '保存';
% 保存图像
        function save_Callback(app, event)
            % Create GUIDE-style callback args - Added by Migration Tool
            [hObject, eventdata, handles] = convertToGUIDECallbackArguments(app, event); %#ok<ASGLU>
            
                % 弹出文件保存对话框
                [file, path] = uiputfile('*.jpg', 'Save Image as');
            
                % 拼接保存路径和文件名
                save = [path file];
            
                try
                        % 将图像保存为 JPG 格式
                        imwrite(handles.img, save, 'jpg');
                catch
                        warndlg('您没有填写保存图片名称。') ;
                    return;
                end

        end
```





```压缩
clc;clear;fclose('all');

%读取文件为字符串

fid = fopen('test.txt');

str = fscanf(fid,'%s');

fclose(fid);



%LZW编码解码

data_en = LZWenco( str );%编码后的数据

data_deco = LZWdeco(data_en);%解码后数据


function [ str_en ] = LZWenco( str )

% 拓展ascii的LZW编码

% 输入为字符串，输出为16位无符号整型数组

table = cell(1,256); 

for i=1:256 

    table{i}=char(i-1); %码表初始化

end 



str_en = [];

P = [];

for i=1:length(str) %遍历字符串

    C=str(i); 

    if ismember([P C],table)

        P = [P C];

    else

        [~,Index] = ismember(P,table);

        str_en = [str_en Index-1];    %如果缀-符在表中不存在，输出前缀

        table{end+1}=[P C];     %把缀-符串添加到表格中

        P = C;                  %令P=C

    end 

end

[~,Index] = ismember(P,table);

str_en = [str_en Index-1]; %最后把缓存在前缀里面的数据输出

str_en = uint16(str_en);

end


function [ str_de ] = LZWdeco( data_en )

%LZW 解码程序

%输入为压缩后的uint16数组

table = cell(1,256); 

for i=1:256 

    table{i}=char(i-1); %码表初始化

end



cW = data_en(1);

str_de = table{cW+1};



for i=2:length(data_en) %遍历数组

    pW = cW;

    cW = data_en(i);

    if cW<length(table) %在字典内

        str_de = [str_de table{cW+1}]; %解码输出cW

        P = table{pW+1};

        C = table{cW+1}(1);

        table{end+1} = [P C]; %增加字典映射P+C

    else

        P = table{pW+1};

        C = table{pW+1}(1);

        table{end+1} = [P C];

        str_de = [str_de table{end}];

    end

end

end
```

 

```
            app.HxLabel.Visible = 'off';
            app.avgLenLabel.Visible = 'off';
            app.EfficiencyLabel.Visible = 'off';
            app.CodeLabel.Text = '香农(Shannon)编码如下 ： ';
```





```
function encryptedText = substitutionEncrypt(inputText, key)
    % 将输入文本转换为大写字母
    inputText = upper(inputText);
    
    % 初始化加密文本字符串
    encryptedText = '';
    
    % 遍历输入文本的每个字符
    for i = 1:length(inputText)
        % 如果是字母，则进行加密
        if isletter(inputText(i))
            % 查找字母在密钥中的位置
            keyIndex = find(key == inputText(i));
            
            % 使用密钥中相应位置的字母进行替换
            encryptedChar = key(mod(keyIndex - 1, length(key)) + 1);
            encryptedText = [encryptedText, encryptedChar];
        else
            % 如果是非字母字符，则保持不变
            encryptedText = [encryptedText, inputText(i)];
        end
    end
end

function decryptedText = substitutionDecrypt(encryptedText, key)
    % 将加密文本转换为大写字母
    encryptedText = upper(encryptedText);
    
    % 初始化解密文本字符串
    decryptedText = '';
    
    % 遍历加密文本的每个字符
    for i = 1:length(encryptedText)
        % 如果是字母，则进行解密
        if isletter(encryptedText(i))
            % 查找字母在密钥中的位置
            keyIndex = find(key == encryptedText(i));
            
            % 使用密钥中相应位置的字母进行替换
            decryptedChar = char('A' + mod(keyIndex - 1, length(key)));
            decryptedText = [decryptedText, decryptedChar];
        else
            % 如果是非字母字符，则保持不变
            decryptedText = [decryptedText, encryptedText(i)];
        end
    end
end

function randomKey = generateRandomKey()
    % 生成随机的字母表排列作为密钥
    randomKey = char(randperm(26) + 'A' - 1);
end

% 示例用法
inputText = 'Hello, World!';
key = generateRandomKey(); % 生成随机密钥
encryptedText = substitutionEncrypt(inputText, key);
disp(['加密前：', inputText]);
disp(['加密后：', encryptedText]);

decryptedText = substitutionDecrypt(encryptedText, key);
disp(['解密后：', decryptedText]);

```





```
clc;clear;fclose('all');

%读取文件为字符串

fid = fopen('test.txt');

str = fscanf(fid,'%s');

fclose(fid);



%LZW编码解码

data_en = LZWenco( str );%编码后的数据

data_deco = LZWdeco(data_en);%解码后数据


function [ str_en ] = LZWenco( str )

% 拓展ascii的LZW编码

% 输入为字符串，输出为16位无符号整型数组

table = cell(1,256); 

for i=1:256 

    table{i}=char(i-1); %码表初始化

end 



str_en = [];

P = [];

for i=1:length(str) %遍历字符串

    C=str(i); 

    if ismember([P C],table)

        P = [P C];

    else

        [~,Index] = ismember(P,table);

        str_en = [str_en Index-1];    %如果缀-符在表中不存在，输出前缀

        table{end+1}=[P C];     %把缀-符串添加到表格中

        P = C;                  %令P=C

    end 

end

[~,Index] = ismember(P,table);

str_en = [str_en Index-1]; %最后把缓存在前缀里面的数据输出

str_en = uint16(str_en);

end


function [ str_de ] = LZWdeco( data_en )

%LZW 解码程序

%输入为压缩后的uint16数组

table = cell(1,256); 

for i=1:256 

    table{i}=char(i-1); %码表初始化

end



cW = data_en(1);

str_de = table{cW+1};



for i=2:length(data_en) %遍历数组

    pW = cW;

    cW = data_en(i);

    if cW<length(table) %在字典内

        str_de = [str_de table{cW+1}]; %解码输出cW

        P = table{pW+1};

        C = table{cW+1}(1);

        table{end+1} = [P C]; %增加字典映射P+C

    else

        P = table{pW+1};

        C = table{pW+1}(1);

        table{end+1} = [P C];

        str_de = [str_de table{end}];

    end

end

end
```

# 所有要求

题目 ： 黑体、小二，两端对齐，换行后两行汉字的第一个字要上下对齐

专业写全称 ： 仿宋GB-2312

**目录 : 三号黑体居**中，中间空两个空格，1.5倍行距，段前后0.5个间距

**一级标题 ：** 序数后面空一格写标题，四号黑体，1.5倍行间距

**参考文件引用 ：** 小四号times new roman 上标

**二级标题 ：** 序数后面空一格写标题，小四号黑体，1.5倍行间距

**图形加图名 ：** 五号宋体，图形、图名居中

**参考文献 ：** 小四号宋体（字母数字用times new roman)，1.5倍行间距

**函数要求有注释**，输入输出项

正文 ： 

**小四号宋体**，每段首行缩进2字符
